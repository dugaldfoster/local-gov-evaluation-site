<header class="topbar">
  <div class="topbar-inner">
    <a class="brand" href="{{ .Site.Home.RelPermalink }}">
      <span class="brand-mark" aria-hidden="true"></span>
      <span class="brand-text">
        <strong>{{ site.Title }}</strong>
        <small>{{ site.Params.tagline }}</small>
      </span>
    </a>

    <button class="nav-toggle" aria-label="Open menu" aria-expanded="false" data-nav-toggle>
      <span></span><span></span><span></span>
    </button>

    <nav class="nav" data-nav>
      {{ $current := .RelPermalink }}
      {{ range site.Menus.main }}
        {{ $active := eq $current (.URL | relURL) }}
        <a class="nav-link {{ if $active }}active{{ end }}" href="{{ .URL | relURL }}">{{ .Name }}</a>
      {{ end }}
    </nav>
  </div>
</header>

<script>
  (function(){
    const btn = document.querySelector("[data-nav-toggle]");
    const nav = document.querySelector("[data-nav]");
    if(!btn || !nav) return;

    btn.addEventListener("click", () => {
      const open = nav.classList.toggle("open");
      btn.setAttribute("aria-expanded", open ? "true" : "false");
    });
  })();
</script>
